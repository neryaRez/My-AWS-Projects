{"version":"tree-0.1","tree":{"id":"App","path":"","constructInfo":{"fqn":"aws-cdk-lib.App","version":"2.201.0"},"children":{"EfStack":{"id":"EfStack","path":"EfStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"MyVPC":{"id":"MyVPC","path":"EfStack/MyVPC","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.Vpc","version":"2.201.0","metadata":[{"enableDnsHostnames":true,"enableDnsSupport":true,"maxAzs":"*","natGateways":"*","subnetConfiguration":[{"name":"*","subnetType":"Public","cidrMask":"*"}]}]},"children":{"Resource":{"id":"Resource","path":"EfStack/MyVPC/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPC","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPC","aws:cdk:cloudformation:props":{"cidrBlock":"10.0.0.0/16","enableDnsHostnames":true,"enableDnsSupport":true,"instanceTenancy":"default","tags":[{"key":"Name","value":"EfStack/MyVPC"}]}}},"publicSubnet1":{"id":"publicSubnet1","path":"EfStack/MyVPC/publicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"EfStack/MyVPC/publicSubnet1/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[0,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.0.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"EfStack/MyVPC/publicSubnet1"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"Acl":{"id":"Acl","path":"EfStack/MyVPC/publicSubnet1/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"EfStack/MyVPC/publicSubnet1/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"EfStack/MyVPC/publicSubnet1"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"EfStack/MyVPC/publicSubnet1/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"MyVPCpublicSubnet1RouteTableF452D270"},"subnetId":{"Ref":"MyVPCpublicSubnet1Subnet0B09E184"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"EfStack/MyVPC/publicSubnet1/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"MyVPCIGW30AB6DD6"},"routeTableId":{"Ref":"MyVPCpublicSubnet1RouteTableF452D270"}}}}}},"publicSubnet2":{"id":"publicSubnet2","path":"EfStack/MyVPC/publicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.PublicSubnet","version":"2.201.0","metadata":[{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{"availabilityZone":"*","vpcId":"*","cidrBlock":"*","mapPublicIpOnLaunch":true,"ipv6CidrBlock":"*","assignIpv6AddressOnCreation":"*"},{}]},"children":{"Subnet":{"id":"Subnet","path":"EfStack/MyVPC/publicSubnet2/Subnet","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnet","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Subnet","aws:cdk:cloudformation:props":{"availabilityZone":{"Fn::Select":[1,{"Fn::GetAZs":""}]},"cidrBlock":"10.0.1.0/24","mapPublicIpOnLaunch":true,"tags":[{"key":"aws-cdk:subnet-name","value":"public"},{"key":"aws-cdk:subnet-type","value":"Public"},{"key":"Name","value":"EfStack/MyVPC/publicSubnet2"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"Acl":{"id":"Acl","path":"EfStack/MyVPC/publicSubnet2/Acl","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"RouteTable":{"id":"RouteTable","path":"EfStack/MyVPC/publicSubnet2/RouteTable","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRouteTable","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::RouteTable","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"EfStack/MyVPC/publicSubnet2"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"RouteTableAssociation":{"id":"RouteTableAssociation","path":"EfStack/MyVPC/publicSubnet2/RouteTableAssociation","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSubnetRouteTableAssociation","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SubnetRouteTableAssociation","aws:cdk:cloudformation:props":{"routeTableId":{"Ref":"MyVPCpublicSubnet2RouteTableD03A1158"},"subnetId":{"Ref":"MyVPCpublicSubnet2SubnetF1A4E852"}}}},"DefaultRoute":{"id":"DefaultRoute","path":"EfStack/MyVPC/publicSubnet2/DefaultRoute","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnRoute","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::Route","aws:cdk:cloudformation:props":{"destinationCidrBlock":"0.0.0.0/0","gatewayId":{"Ref":"MyVPCIGW30AB6DD6"},"routeTableId":{"Ref":"MyVPCpublicSubnet2RouteTableD03A1158"}}}}}},"IGW":{"id":"IGW","path":"EfStack/MyVPC/IGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnInternetGateway","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::InternetGateway","aws:cdk:cloudformation:props":{"tags":[{"key":"Name","value":"EfStack/MyVPC"}]}}},"VPCGW":{"id":"VPCGW","path":"EfStack/MyVPC/VPCGW","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnVPCGatewayAttachment","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::VPCGatewayAttachment","aws:cdk:cloudformation:props":{"internetGatewayId":{"Ref":"MyVPCIGW30AB6DD6"},"vpcId":{"Ref":"MyVPCAFB07A31"}}}},"RestrictDefaultSecurityGroupCustomResource":{"id":"RestrictDefaultSecurityGroupCustomResource","path":"EfStack/MyVPC/RestrictDefaultSecurityGroupCustomResource","constructInfo":{"fqn":"aws-cdk-lib.CustomResource","version":"2.201.0","metadata":["*"]},"children":{"Default":{"id":"Default","path":"EfStack/MyVPC/RestrictDefaultSecurityGroupCustomResource/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}}}},"Custom::VpcRestrictDefaultSGCustomResourceProvider":{"id":"Custom::VpcRestrictDefaultSGCustomResourceProvider","path":"EfStack/Custom::VpcRestrictDefaultSGCustomResourceProvider","constructInfo":{"fqn":"aws-cdk-lib.CustomResourceProviderBase","version":"2.201.0"},"children":{"Staging":{"id":"Staging","path":"EfStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Staging","constructInfo":{"fqn":"aws-cdk-lib.AssetStaging","version":"2.201.0"}},"Role":{"id":"Role","path":"EfStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Role","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}},"Handler":{"id":"Handler","path":"EfStack/Custom::VpcRestrictDefaultSGCustomResourceProvider/Handler","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}}}},"InstanceSG":{"id":"InstanceSG","path":"EfStack/InstanceSG","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.201.0","metadata":[{"vpc":"*","allowAllOutbound":true,"description":"*"},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*","*"]},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*","*"]},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*","*"]}]},"children":{"Resource":{"id":"Resource","path":"EfStack/InstanceSG/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Allow HTTP, SSH, HTTPS access","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":22,"toPort":22,"description":"SSH"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"HTTP"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"HTTPS"}],"vpcId":{"Ref":"MyVPCAFB07A31"}}}}}},"MyEFS":{"id":"MyEFS","path":"EfStack/MyEFS","constructInfo":{"fqn":"aws-cdk-lib.aws_efs.CfnFileSystem","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EFS::FileSystem","aws:cdk:cloudformation:props":{"encrypted":false,"lifecyclePolicies":[{"transitionToIa":"AFTER_7_DAYS"}],"performanceMode":"generalPurpose"}}},"EfsMountTarget1":{"id":"EfsMountTarget1","path":"EfStack/EfsMountTarget1","constructInfo":{"fqn":"aws-cdk-lib.aws_efs.CfnMountTarget","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EFS::MountTarget","aws:cdk:cloudformation:props":{"fileSystemId":{"Ref":"MyEFS"},"securityGroups":[{"Fn::GetAtt":["InstanceSG2AE1100C","GroupId"]}],"subnetId":{"Ref":"MyVPCpublicSubnet1Subnet0B09E184"}}}},"EfsMountTarget2":{"id":"EfsMountTarget2","path":"EfStack/EfsMountTarget2","constructInfo":{"fqn":"aws-cdk-lib.aws_efs.CfnMountTarget","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EFS::MountTarget","aws:cdk:cloudformation:props":{"fileSystemId":{"Ref":"MyEFS"},"securityGroups":[{"Fn::GetAtt":["InstanceSG2AE1100C","GroupId"]}],"subnetId":{"Ref":"MyVPCpublicSubnet2SubnetF1A4E852"}}}},"VPCId":{"id":"VPCId","path":"EfStack/VPCId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Subnet1":{"id":"Subnet1","path":"EfStack/Subnet1","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"Subnet2":{"id":"Subnet2","path":"EfStack/Subnet2","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"EfsId":{"id":"EfsId","path":"EfStack/EfsId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"EfsDns":{"id":"EfsDns","path":"EfStack/EfsDns","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"SecurityGroupId":{"id":"SecurityGroupId","path":"EfStack/SecurityGroupId","constructInfo":{"fqn":"aws-cdk-lib.CfnOutput","version":"2.201.0"}},"CDKMetadata":{"id":"CDKMetadata","path":"EfStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"EfStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}},"Condition":{"id":"Condition","path":"EfStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"EfStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"EfStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"AutoScalingGroupStack":{"id":"AutoScalingGroupStack","path":"AutoScalingGroupStack","constructInfo":{"fqn":"aws-cdk-lib.Stack","version":"2.201.0"},"children":{"VPC":{"id":"VPC","path":"AutoScalingGroupStack/VPC","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]},"children":{"PublicSubnet1":{"id":"PublicSubnet1","path":"AutoScalingGroupStack/VPC/PublicSubnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"PublicSubnet2":{"id":"PublicSubnet2","path":"AutoScalingGroupStack/VPC/PublicSubnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}}}},"SG":{"id":"SG","path":"AutoScalingGroupStack/SG","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"ASGInstanceRole":{"id":"ASGInstanceRole","path":"AutoScalingGroupStack/ASGInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.Role","version":"2.201.0","metadata":[{"assumedBy":{"principalAccount":"*","assumeRoleAction":"*"},"managedPolicies":[{"managedPolicyArn":"*"},{"managedPolicyArn":"*"}]}]},"children":{"ImportASGInstanceRole":{"id":"ImportASGInstanceRole","path":"AutoScalingGroupStack/ASGInstanceRole/ImportASGInstanceRole","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Resource":{"id":"Resource","path":"AutoScalingGroupStack/ASGInstanceRole/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnRole","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::Role","aws:cdk:cloudformation:props":{"assumeRolePolicyDocument":{"Statement":[{"Action":"sts:AssumeRole","Effect":"Allow","Principal":{"Service":"ec2.amazonaws.com"}}],"Version":"2012-10-17"},"managedPolicyArns":[{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonElasticFileSystemClientFullAccess"]]},{"Fn::Join":["",["arn:",{"Ref":"AWS::Partition"},":iam::aws:policy/AmazonSSMManagedInstanceCore"]]}]}}}}},"ASGLaunchTemplate":{"id":"ASGLaunchTemplate","path":"AutoScalingGroupStack/ASGLaunchTemplate","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.LaunchTemplate","version":"2.201.0","metadata":[{"instanceType":"*","keyName":"*","machineImage":"*","role":"*","securityGroup":"*","userData":"*"},{"addSecurityGroup":["*"]}]},"children":{"Profile":{"id":"Profile","path":"AutoScalingGroupStack/ASGLaunchTemplate/Profile","constructInfo":{"fqn":"aws-cdk-lib.aws_iam.CfnInstanceProfile","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::IAM::InstanceProfile","aws:cdk:cloudformation:props":{"roles":[{"Ref":"ASGInstanceRoleF78C7398"}]}}},"Resource":{"id":"Resource","path":"AutoScalingGroupStack/ASGLaunchTemplate/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnLaunchTemplate","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::LaunchTemplate","aws:cdk:cloudformation:props":{"launchTemplateData":{"iamInstanceProfile":{"arn":{"Fn::GetAtt":["ASGLaunchTemplateProfile3A22EA2B","Arn"]}},"imageId":{"Ref":"SsmParameterValueawsserviceamiamazonlinuxlatestamzn2amihvmx8664gp2C96584B6F00A464EAD1953AFF4B05118Parameter"},"instanceType":"t3.micro","keyName":"Nery-Pair","securityGroupIds":[{"Fn::ImportValue":"EfsStack-SecurityGroupId"},{"Fn::GetAtt":["ASGSecurityGroup3960D0B6","GroupId"]}],"tagSpecifications":[{"resourceType":"instance","tags":[{"key":"Name","value":"AutoScalingGroupStack/ASGLaunchTemplate"}]},{"resourceType":"volume","tags":[{"key":"Name","value":"AutoScalingGroupStack/ASGLaunchTemplate"}]}],"userData":{"Fn::Base64":{"Fn::Join":["",["#!/bin/bash\nEFS_ID=\"",{"Fn::ImportValue":"EfsStack-EfsId"},"\"\nREGION=\"",{"Ref":"AWS::Region"},"\"\nyum update -y\nyum install -y nfs-utils amazon-efs-utils gcc make autoconf automake unzip curl\nmkdir -p /mnt/efs\nfor i in {1..60}; do nslookup \"$EFS_ID.efs.$REGION.amazonaws.com\" && break || sleep 10; done\nif mount -t efs -o tls ${EFS_ID}:/ /mnt/efs; then\necho 'Mounted with TLS successfully' >> /var/log/efs-mount.log\nelif mount -t nfs4 -o nfsvers=4.1 ${EFS_ID}.efs.${REGION}.amazonaws.com:/ /mnt/efs; then\necho 'Mounted without TLS (fallback to NFS)' >> /var/log/efs-mount.log\nelse\necho 'Mount failed' >> /var/log/efs-mount.log\nexit 1\nfi\nID=$(curl -s http://169.254.169.254/latest/meta-data/instance-id)\necho \"Hello from $ID\" > /mnt/efs/$ID.txt\nchmod 777 /mnt/efs\nchmod 777 /mnt/efs/$ID.txt\ncd /home/ec2-user\ncurl -LO https://github.com/resurrecting-open-source-projects/stress/archive/refs/heads/master.zip\nunzip master.zip\ncd stress-master\n./autogen.sh || true\n./configure || true\nmake || true\nmake install || true"]]}}},"tagSpecifications":[{"resourceType":"launch-template","tags":[{"key":"Name","value":"AutoScalingGroupStack/ASGLaunchTemplate"}]}]}}}}},"SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter":{"id":"SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","path":"AutoScalingGroupStack/SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118.Parameter","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118":{"id":"SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118","path":"AutoScalingGroupStack/SsmParameterValue:--aws--service--ami-amazon-linux-latest--amzn2-ami-hvm-x86_64-gp2:C96584B6-F00A-464E-AD19-53AFF4B05118","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]}},"Subnet1":{"id":"Subnet1","path":"AutoScalingGroupStack/Subnet1","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"Subnet2":{"id":"Subnet2","path":"AutoScalingGroupStack/Subnet2","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":["*"]}},"MyASG":{"id":"MyASG","path":"AutoScalingGroupStack/MyASG","constructInfo":{"fqn":"aws-cdk-lib.aws_autoscaling.AutoScalingGroup","version":"2.201.0","metadata":[{"maxCapacity":"*","minCapacity":"*","vpcSubnets":{"subnets":["*","*"]},"vpc":"*","launchTemplate":"*"},{"addSecurityGroup":["*"]}]},"children":{"ASG":{"id":"ASG","path":"AutoScalingGroupStack/MyASG/ASG","constructInfo":{"fqn":"aws-cdk-lib.aws_autoscaling.CfnAutoScalingGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AutoScaling::AutoScalingGroup","aws:cdk:cloudformation:props":{"launchTemplate":{"launchTemplateId":{"Ref":"ASGLaunchTemplate19FE6236"},"version":{"Fn::GetAtt":["ASGLaunchTemplate19FE6236","LatestVersionNumber"]}},"maxSize":"4","minSize":"2","vpcZoneIdentifier":[{"Fn::ImportValue":"EfsStack-Subnet1"},{"Fn::ImportValue":"EfsStack-Subnet2"}]}}},"ScalingPolicyScaleOnCPU":{"id":"ScalingPolicyScaleOnCPU","path":"AutoScalingGroupStack/MyASG/ScalingPolicyScaleOnCPU","constructInfo":{"fqn":"aws-cdk-lib.aws_autoscaling.TargetTrackingScalingPolicy","version":"2.201.0"},"children":{"Resource":{"id":"Resource","path":"AutoScalingGroupStack/MyASG/ScalingPolicyScaleOnCPU/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_autoscaling.CfnScalingPolicy","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::AutoScaling::ScalingPolicy","aws:cdk:cloudformation:props":{"autoScalingGroupName":{"Ref":"MyASG63588E97"},"policyType":"TargetTrackingScaling","targetTrackingConfiguration":{"predefinedMetricSpecification":{"predefinedMetricType":"ASGAverageCPUUtilization"},"targetValue":60}}}}}}}},"ImportedEfsSG":{"id":"ImportedEfsSG","path":"AutoScalingGroupStack/ImportedEfsSG","constructInfo":{"fqn":"aws-cdk-lib.Resource","version":"2.201.0","metadata":[]},"children":{"from AutoScalingGroupStackASGSecurityGroup680F630E:2049":{"id":"from AutoScalingGroupStackASGSecurityGroup680F630E:2049","path":"AutoScalingGroupStack/ImportedEfsSG/from AutoScalingGroupStackASGSecurityGroup680F630E:2049","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow NFS access from ASG SG","fromPort":2049,"groupId":{"Fn::ImportValue":"EfsStack-SecurityGroupId"},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::GetAtt":["ASGSecurityGroup3960D0B6","GroupId"]},"toPort":2049}}}}},"ASGSecurityGroup":{"id":"ASGSecurityGroup","path":"AutoScalingGroupStack/ASGSecurityGroup","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.SecurityGroup","version":"2.201.0","metadata":[{"vpc":"*","allowAllOutbound":true,"description":"*"},{"addIngressRule":["*",{},"*","*"]},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*","*"]},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*","*"]},{"addIngressRule":[{"canInlineRule":true,"connections":"*","uniqueId":"*"},{},"*","*"]}]},"children":{"Resource":{"id":"Resource","path":"AutoScalingGroupStack/ASGSecurityGroup/Resource","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroup","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroup","aws:cdk:cloudformation:props":{"groupDescription":"Allow NFS access to EFS","securityGroupEgress":[{"cidrIp":"0.0.0.0/0","description":"Allow all outbound traffic by default","ipProtocol":"-1"}],"securityGroupIngress":[{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":22,"toPort":22,"description":"SSH access from anywhere"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":80,"toPort":80,"description":"HTTP access from anywhere"},{"cidrIp":"0.0.0.0/0","ipProtocol":"tcp","fromPort":443,"toPort":443,"description":"HTTPS access from anywhere"}],"vpcId":{"Fn::ImportValue":"EfsStack-VPCId"}}}},"from AutoScalingGroupStackImportedEfsSG0380E410:2049":{"id":"from AutoScalingGroupStackImportedEfsSG0380E410:2049","path":"AutoScalingGroupStack/ASGSecurityGroup/from AutoScalingGroupStackImportedEfsSG0380E410:2049","constructInfo":{"fqn":"aws-cdk-lib.aws_ec2.CfnSecurityGroupIngress","version":"2.201.0"},"attributes":{"aws:cdk:cloudformation:type":"AWS::EC2::SecurityGroupIngress","aws:cdk:cloudformation:props":{"description":"Allow NFS access from EFS SG","fromPort":2049,"groupId":{"Fn::GetAtt":["ASGSecurityGroup3960D0B6","GroupId"]},"ipProtocol":"tcp","sourceSecurityGroupId":{"Fn::ImportValue":"EfsStack-SecurityGroupId"},"toPort":2049}}}}},"CDKMetadata":{"id":"CDKMetadata","path":"AutoScalingGroupStack/CDKMetadata","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"},"children":{"Default":{"id":"Default","path":"AutoScalingGroupStack/CDKMetadata/Default","constructInfo":{"fqn":"aws-cdk-lib.CfnResource","version":"2.201.0"}},"Condition":{"id":"Condition","path":"AutoScalingGroupStack/CDKMetadata/Condition","constructInfo":{"fqn":"aws-cdk-lib.CfnCondition","version":"2.201.0"}}}},"BootstrapVersion":{"id":"BootstrapVersion","path":"AutoScalingGroupStack/BootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnParameter","version":"2.201.0"}},"CheckBootstrapVersion":{"id":"CheckBootstrapVersion","path":"AutoScalingGroupStack/CheckBootstrapVersion","constructInfo":{"fqn":"aws-cdk-lib.CfnRule","version":"2.201.0"}}}},"Tree":{"id":"Tree","path":"Tree","constructInfo":{"fqn":"constructs.Construct","version":"10.4.2"}}}}}